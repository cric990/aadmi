<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Console | Elite V21</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #020617; --card: #0f172a; --primary: #06b6d4; --text: #f8fafc;
            --border: 1px solid rgba(6, 182, 212, 0.2); --glass: rgba(15, 23, 42, 0.9);
        }
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Outfit', sans-serif; outline:none; }
        body { background: var(--bg); color: var(--text); padding-bottom: 50px; min-height:100vh; }

        /* LOGIN */
        #login-overlay {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; align-items: center; justify-content: center;
            background-image: radial-gradient(circle, #1e293b 0%, #000 100%);
        }
        .login-box {
            background: var(--glass); border: var(--border); padding: 40px;
            border-radius: 20px; text-align: center; width: 320px;
            box-shadow: 0 0 50px rgba(6, 182, 212, 0.15);
        }
        input, select, textarea {
            width: 100%; padding: 12px; background: #020617; border: 1px solid #334155;
            color: #fff; border-radius: 10px; margin-bottom: 10px; font-size: 14px;
        }
        button {
            width: 100%; padding: 12px; border: none; border-radius: 10px;
            cursor: pointer; font-weight: 700; text-transform: uppercase;
            transition: 0.3s;
        }
        .btn-main { background: var(--primary); color: #000; box-shadow: 0 5px 15px rgba(6, 182, 212, 0.2); }
        .btn-main:hover { transform: translateY(-2px); }
        .btn-danger { background: #ef4444; color: #fff; }
        .btn-success { background: #10b981; color: #fff; }
        .btn-sm { padding: 5px 10px; font-size: 11px; width: auto; border-radius: 6px; }

        /* DASHBOARD */
        #admin-dash { display: none; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .top-nav {
            background: var(--card); padding: 20px; border-radius: 16px; border: var(--border);
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
        }
        .brand { font-size: 22px; font-weight: 800; } .brand span { color: var(--primary); }

        .tabs { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; margin-bottom: 20px; }
        .tab {
            padding: 10px 20px; background: #1e293b; border-radius: 30px; border: 1px solid #334155;
            color: #94a3b8; cursor: pointer; white-space: nowrap; font-size: 13px;
        }
        .tab.active { background: var(--primary); color: #000; font-weight: 700; border-color: var(--primary); }

        .section { display: none; animation: fadeIn 0.3s; }
        .section.active { display: block; }
        @keyframes fadeIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }

        .panel { background: var(--card); border: var(--border); padding: 20px; border-radius: 16px; margin-bottom: 20px; }
        .panel h3 { color: #fff; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; font-size: 18px; }
        .panel h3 i { color: var(--primary); }

        .list-row {
            background: rgba(2, 6, 23, 0.6); padding: 15px; border-radius: 12px;
            margin-bottom: 10px; border-left: 3px solid var(--primary);
            display: flex; justify-content: space-between; align-items: center;
        }
        .info b { display: block; font-size: 15px; color: #fff; margin-bottom: 4px; }
        .info p { font-size: 12px; color: #94a3b8; }
        .actions { display: flex; gap: 8px; }

        /* STATS GRID */
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
        .stat-card { background: linear-gradient(135deg, #1e293b, #0f172a); padding: 20px; border-radius: 16px; border: var(--border); }
        .stat-card h1 { color: var(--primary); font-size: 30px; }
        .stat-card p { font-size: 12px; color: #94a3b8; text-transform: uppercase; }

        /* MODAL */
        #mod-action {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); z-index: 2000;
            display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px);
        }
        .modal-con { background: #0f172a; width: 90%; max-width: 450px; padding: 25px; border-radius: 20px; border: var(--border); }
        .badge-ban { background: #ef4444; color: #fff; padding: 2px 6px; border-radius: 4px; font-size: 10px; }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="login-box">
            <i class="fas fa-user-shield" style="font-size:40px; color:var(--primary); margin-bottom:15px;"></i>
            <h2 style="color:var(--primary); margin-bottom:20px;">ADMIN ACCESS</h2>
            <input type="password" id="adm-key" placeholder="Security Key">
            <button class="btn-main" onclick="adminAuth()">LOGIN</button>
        </div>
    </div>

    <div id="admin-dash">
        <div class="top-nav">
            <div class="brand">ELITE<span>PANEL</span></div>
            <button class="btn-danger btn-sm" onclick="location.reload()">LOGOUT</button>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="nav('dash')">Overview</button>
            <button class="tab" onclick="nav('orders')">Orders</button>
            <button class="tab" onclick="nav('dep')">Deposits</button>
            <button class="tab" onclick="nav('with')">Withdrawals</button>
            <button class="tab" onclick="nav('users')">Users & Ban</button>
            <button class="tab" onclick="nav('shop')">Products</button>
            <button class="tab" onclick="nav('set')">Poster & Ads</button>
            <button class="tab" onclick="nav('chat')">Support</button>
        </div>

        <!-- 1. DASHBOARD -->
        <div id="sec-dash" class="section active">
            <div class="stats">
                <div class="stat-card"><h1 id="s-users">0</h1><p>Total Users</p></div>
                <div class="stat-card"><h1 id="s-orders">0</h1><p>Pending Orders</p></div>
                <div class="stat-card"><h1 id="s-deps">0</h1><p>Deposit Requests</p></div>
            </div>
        </div>

        <!-- 2. ORDERS -->
        <div id="sec-orders" class="section">
            <div class="panel">
                <h3><i class="fas fa-box"></i> Pending Orders</h3>
                <div id="list-orders"></div>
            </div>
        </div>

        <!-- 3. DEPOSITS -->
        <div id="sec-dep" class="section">
            <div class="panel">
                <h3><i class="fas fa-wallet"></i> Wallet Requests</h3>
                <div id="list-dep"></div>
            </div>
        </div>

        <!-- 4. WITHDRAWALS -->
        <div id="sec-with" class="section">
            <div class="panel">
                <h3><i class="fas fa-money-bill-wave"></i> Payout Requests</h3>
                <div id="list-with"></div>
            </div>
        </div>

        <!-- 5. USERS -->
        <div id="sec-users" class="section">
            <div class="panel">
                <h3><i class="fas fa-users"></i> Manage Users</h3>
                <input type="text" id="search-u" placeholder="Search Username..." onkeyup="filterUser()">
                <div id="list-users"></div>
            </div>
        </div>

        <!-- 6. PRODUCTS -->
        <div id="sec-shop" class="section">
            <div class="panel">
                <h3><i class="fas fa-plus-circle"></i> Add Product</h3>
                <div style="display:grid; grid-template-columns:2fr 1fr; gap:10px;">
                    <input type="text" id="p-t" placeholder="Title">
                    <input type="number" id="p-p" placeholder="Price">
                </div>
                <input type="text" id="p-i" placeholder="Image URL">
                <button class="btn-main" onclick="addProd()">ADD ITEM</button>
            </div>
            <div class="panel">
                <h3>Inventory</h3>
                <div id="list-prod"></div>
            </div>
        </div>

        <!-- 7. SETTINGS (POSTER) -->
        <div id="sec-set" class="section">
            <div class="panel">
                <h3><i class="fas fa-image"></i> App Popup Poster</h3>
                <input type="text" id="po-img" placeholder="Poster Image URL">
                <input type="text" id="po-lnk" placeholder="Target Link">
                <div style="display:flex; gap:10px; margin-top:10px;">
                    <button class="btn-success" onclick="savePoster(true)">ENABLE</button>
                    <button class="btn-danger" onclick="savePoster(false)">DISABLE</button>
                </div>
            </div>
            <div class="panel">
                <h3><i class="fas fa-bell"></i> Send Broadcast</h3>
                <input type="text" id="br-t" placeholder="Title">
                <input type="text" id="br-m" placeholder="Message">
                <button class="btn-main" onclick="sendBroad()">SEND</button>
            </div>
        </div>

        <!-- 8. SUPPORT -->
        <div id="sec-chat" class="section">
            <div class="panel">
                <h3><i class="fas fa-headset"></i> User Tickets</h3>
                <div id="list-chat"></div>
            </div>
        </div>

    </div>

    <!-- MODAL -->
    <div id="mod-action" class="modal-overlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.9); z-index:2000; align-items:center; justify-content:center;">
        <div class="modal-con">
            <h3 style="color:var(--primary); margin-bottom:15px;">Action Required</h3>
            <input type="hidden" id="ac-id"><input type="hidden" id="ac-uid"><input type="hidden" id="ac-ex">
            
            <!-- Views -->
            <div id="v-del" style="display:none;">
                <p style="color:#aaa; font-size:12px; margin-bottom:5px;">Product Data:</p>
                <textarea id="d-msg" rows="5" placeholder="ID/Pass or Key..."></textarea>
                <button class="btn-success" style="width:100%" onclick="doDeliver()">COMPLETE ORDER</button>
            </div>

            <div id="v-chat" style="display:none;">
                <div id="chat-hist" style="height:200px; overflow-y:auto; background:#000; padding:10px; margin-bottom:10px; border-radius:10px; font-size:12px;"></div>
                <input type="text" id="c-rep" placeholder="Reply...">
                <button class="btn-main" style="width:100%" onclick="doReply()">SEND</button>
            </div>

            <button class="btn-danger" style="width:100%; margin-top:10px;" onclick="document.getElementById('mod-action').style.display='none'">CLOSE</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="admin.js"></script>
</body>
</html>